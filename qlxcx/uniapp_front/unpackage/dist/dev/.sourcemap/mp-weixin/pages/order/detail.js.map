{"version":3,"file":"detail.js","sources":["pages/order/detail.vue","../../../../App/hbuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3JkZXIvZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view v-if=\"orderStore.status === 'loading'\">\r\n\t\t\t<u-loading-page loading-text=\"正在加载订单详情...\"></u-loading-page>\r\n\t\t</view>\r\n\t\t<view v-else-if=\"orderStore.currentOrderDetail\">\r\n\t\t\t<!-- 订单头部信息 -->\r\n\t\t\t<view class=\"order-header\">\r\n\t\t\t\t<view class=\"header-info\">\r\n\t\t\t\t\t<view class=\"order-title-section\">\r\n\t\t\t\t\t\t<text class=\"order-number\">订单 #{{ orderStore.currentOrderDetail.id }}</text>\r\n\t\t\t\t\t\t<text class=\"order-type\">{{ orderStore.currentOrderDetail.type === 'sent' ? '发给TA的订单' : '来自TA的订单' }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"order-status\" :class=\"getStatusClass(orderStore.currentOrderDetail.status)\">\r\n\t\t\t\t\t\t{{ getStatusText(orderStore.currentOrderDetail.status) }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"order-meta\">\r\n\t\t\t\t\t<view class=\"meta-item\">\r\n\t\t\t\t\t\t<text class=\"meta-label\">创建时间</text>\r\n\t\t\t\t\t\t<text class=\"meta-value\">{{ formatDate(orderStore.currentOrderDetail.created_at || orderStore.currentOrderDetail.createTime) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"meta-item\">\r\n\t\t\t\t\t\t<text class=\"meta-label\">创建人</text>\r\n\t\t\t\t\t\t<text class=\"meta-value\">{{ orderStore.currentOrderDetail.creator_username || '未知' }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"meta-item\">\r\n\t\t\t\t\t\t<text class=\"meta-label\">订单总额</text>\r\n\t\t\t\t\t\t<text class=\"meta-value total-price\">¥{{ orderStore.currentOrderDetail.total_price || orderStore.currentOrderDetail.totalPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"orderStore.currentOrderDetail.notes || orderStore.currentOrderDetail.note\" class=\"order-note\">\r\n\t\t\t\t\t<text class=\"note-label\">订单备注</text>\r\n\t\t\t\t\t<text class=\"note-content\">{{ orderStore.currentOrderDetail.notes || orderStore.currentOrderDetail.note }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 商品列表 -->\r\n\t\t\t<view class=\"products-section\">\r\n\t\t\t\t<view class=\"section-title\">\r\n\t\t\t\t\t<text class=\"title-text\">商品详情</text>\r\n\t\t\t\t\t<text class=\"item-count\">共{{ orderStore.currentOrderDetail.items.length }}件商品</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-for=\"(item, index) in orderStore.currentOrderDetail.items\" :key=\"index\" class=\"product-item\">\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"product-image\"\r\n\t\t\t\t\t\t:src=\"getProductImageUrl(item.product || item.item)\"\r\n\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<text class=\"product-name\">{{ (item.product || item.item).name }}</text>\r\n\t\t\t\t\t\t<text class=\"product-desc\">{{ (item.product || item.item).description }}</text>\r\n\t\t\t\t\t\t<view class=\"product-price-info\">\r\n\t\t\t\t\t\t\t<view class=\"price-row\">\r\n\t\t\t\t\t\t\t\t<text class=\"price-label\">单价：</text>\r\n\t\t\t\t\t\t\t\t<text class=\"price-value\">¥{{ item.price || (item.product || item.item).price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"quantity-row\">\r\n\t\t\t\t\t\t\t\t<text class=\"quantity-label\">数量：</text>\r\n\t\t\t\t\t\t\t\t<text class=\"quantity-value\">{{ item.quantity }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"total-row\">\r\n\t\t\t\t\t\t\t\t<text class=\"total-label\">小计：</text>\r\n\t\t\t\t\t\t\t\t<text class=\"total-value\">¥{{ ((item.price || (item.product || item.item).price) * item.quantity).toFixed(2) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 订单操作 -->\r\n\t\t\t<view v-if=\"showOrderActions\" class=\"order-actions\">\r\n\t\t\t\t<view class=\"actions-title\">订单操作</view>\r\n\t\t\t\t<view class=\"actions-buttons\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tv-if=\"orderStore.currentOrderDetail.type === 'received' && orderStore.currentOrderDetail.status === 'PENDING'\"\r\n\t\t\t\t\t\tclass=\"action-btn primary\"\r\n\t\t\t\t\t\t@click=\"acceptOrder\"\r\n\t\t\t\t\t\t:disabled=\"accepting\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ accepting ? '处理中...' : '接受订单' }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tv-if=\"canUpdateStatus\"\r\n\t\t\t\t\t\tclass=\"action-btn secondary\"\r\n\t\t\t\t\t\t@click=\"showStatusOptions\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t更新状态\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-else class=\"empty-state\">\r\n\t\t\t<u-empty text=\"订单不存在\" mode=\"data\"></u-empty>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { useOrderStore } from '@/store/order';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\nimport { ref, computed } from 'vue';\r\nimport dayjs from 'dayjs';\r\nimport { getProductImageUrl as getImageUrl } from '@/config/index';\r\nimport { updateOrderStatus } from '@/api/order';\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst orderStore = useOrderStore();\r\n\t\tconst accepting = ref(false);\r\n\r\n\t\tonLoad((options) => {\r\n\t\t\tif (options.id) {\r\n\t\t\t\tconsole.log('Loading order detail for ID:', options.id);\r\n\t\t\t\torderStore.fetchOrderDetail(options.id);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 使用配置文件中的图片URL处理方法\r\n\t\tconst getProductImageUrl = getImageUrl;\r\n\r\n\t\t// 计算属性\r\n\t\tconst showOrderActions = computed(() => {\r\n\t\t\tconst order = orderStore.currentOrderDetail;\r\n\t\t\tif (!order) return false;\r\n\r\n\t\t\t// 收到的待处理订单可以接受\r\n\t\t\tif (order.type === 'received' && order.status === 'PENDING') return true;\r\n\r\n\t\t\t// 其他可操作的状态\r\n\t\t\treturn ['PENDING', 'CONFIRMED', 'ORDERED'].includes(order.status);\r\n\t\t});\r\n\r\n\t\tconst canUpdateStatus = computed(() => {\r\n\t\t\tconst order = orderStore.currentOrderDetail;\r\n\t\t\treturn order && ['PENDING', 'CONFIRMED', 'ORDERED'].includes(order.status);\r\n\t\t});\r\n\r\n\t\tconst formatDate = (date) => {\r\n\t\t\tif (!date) return '未知';\r\n\t\t\treturn dayjs(date).format('YYYY-MM-DD HH:mm');\r\n\t\t};\r\n\r\n\t\tconst getStatusText = (status) => {\r\n\t\t\tconst statusMap = {\r\n\t\t\t\t'PENDING': '待处理',\r\n\t\t\t\t'CONFIRMED': '已确认',\r\n\t\t\t\t'ORDERED': '已下单',\r\n\t\t\t\t'COMPLETED': '已完成',\r\n\t\t\t\t'RATED': '已评价',\r\n\t\t\t\t'CANCELLED': '已取消',\r\n\t\t\t\t// 兼容旧格式\r\n\t\t\t\t'pending': '待处理',\r\n\t\t\t\t'accepted': '已接收',\r\n\t\t\t\t'completed': '已完成'\r\n\t\t\t};\r\n\t\t\treturn statusMap[status] || '未知';\r\n\t\t};\r\n\r\n\t\tconst getStatusClass = (status) => {\r\n\t\t\treturn `status-${status}`;\r\n\t\t};\r\n\r\n\t\tconst acceptOrder = async () => {\r\n\t\t\taccepting.value = true;\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('Accepting order:', orderStore.currentOrderDetail.id);\r\n\r\n\t\t\t\t// 调用后端API更新订单状态\r\n\t\t\t\tawait updateOrderStatus(orderStore.currentOrderDetail.id, { status: 'CONFIRMED' });\r\n\r\n\t\t\t\t// 更新本地状态\r\n\t\t\t\torderStore.currentOrderDetail.status = 'CONFIRMED';\r\n\r\n\t\t\t\t// 更新对应的订单列表\r\n\t\t\t\tconst orderIndex = orderStore.receivedOrders.findIndex(o => o.id === orderStore.currentOrderDetail.id);\r\n\t\t\t\tif (orderIndex !== -1) {\r\n\t\t\t\t\torderStore.receivedOrders[orderIndex].status = 'CONFIRMED';\r\n\t\t\t\t}\r\n\r\n\t\t\t\torderStore.saveOrdersToLocal();\r\n\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '订单已接受',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Accept order failed:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '接受失败: ' + (error.message || '网络错误'),\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\taccepting.value = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst showStatusOptions = () => {\r\n\t\t\tconst statusOptions = [\r\n\t\t\t\t{ text: '已确认', value: 'CONFIRMED' },\r\n\t\t\t\t{ text: '已下单', value: 'ORDERED' },\r\n\t\t\t\t{ text: '已完成', value: 'COMPLETED' },\r\n\t\t\t\t{ text: '取消订单', value: 'CANCELLED' }\r\n\t\t\t];\r\n\r\n\t\t\tuni.showActionSheet({\r\n\t\t\t\titemList: statusOptions.map(item => item.text),\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconst selectedStatus = statusOptions[res.tapIndex];\r\n\t\t\t\t\tupdateOrderStatusLocal(selectedStatus.value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst updateOrderStatusLocal = async (newStatus) => {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('Updating order status to:', newStatus);\r\n\r\n\t\t\t\t// 调用后端API更新订单状态\r\n\t\t\t\tawait updateOrderStatus(orderStore.currentOrderDetail.id, { status: newStatus });\r\n\r\n\t\t\t\t// 更新本地状态\r\n\t\t\t\torderStore.currentOrderDetail.status = newStatus;\r\n\r\n\t\t\t\t// 更新对应的订单列表\r\n\t\t\t\tconst sentIndex = orderStore.sentOrders.findIndex(o => o.id === orderStore.currentOrderDetail.id);\r\n\t\t\t\tconst receivedIndex = orderStore.receivedOrders.findIndex(o => o.id === orderStore.currentOrderDetail.id);\r\n\r\n\t\t\t\tif (sentIndex !== -1) {\r\n\t\t\t\t\torderStore.sentOrders[sentIndex].status = newStatus;\r\n\t\t\t\t}\r\n\t\t\t\tif (receivedIndex !== -1) {\r\n\t\t\t\t\torderStore.receivedOrders[receivedIndex].status = newStatus;\r\n\t\t\t\t}\r\n\r\n\t\t\t\torderStore.saveOrdersToLocal();\r\n\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '状态更新成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Update status failed:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '更新失败: ' + (error.message || '网络错误'),\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\torderStore,\r\n\t\t\taccepting,\r\n\t\t\tshowOrderActions,\r\n\t\t\tcanUpdateStatus,\r\n\t\t\tformatDate,\r\n\t\t\tgetStatusText,\r\n\t\t\tgetStatusClass,\r\n\t\t\tgetProductImageUrl,\r\n\t\t\tacceptOrder,\r\n\t\t\tshowStatusOptions,\r\n\t\t\tupdateOrderStatusLocal\r\n\t\t};\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tpadding: 20rpx;\r\n\tpadding-bottom: 200rpx;\r\n}\r\n\r\n.order-header {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 30rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.header-info {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: flex-start;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.order-title-section {\r\n\tflex: 1;\r\n}\r\n\r\n.order-number {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tdisplay: block;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.order-type {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tdisplay: block;\r\n}\r\n\r\n.order-status {\r\n\tfont-size: 24rpx;\r\n\tpadding: 10rpx 20rpx;\r\n\tborder-radius: 20rpx;\r\n\twhite-space: nowrap;\r\n\r\n\t&.status-PENDING, &.status-pending {\r\n\t\tbackground: #fff3cd;\r\n\t\tcolor: #856404;\r\n\t}\r\n\r\n\t&.status-CONFIRMED {\r\n\t\tbackground: #e2e3ff;\r\n\t\tcolor: #3c4fe0;\r\n\t}\r\n\r\n\t&.status-ORDERED {\r\n\t\tbackground: #fff0e6;\r\n\t\tcolor: #d46b08;\r\n\t}\r\n\r\n\t&.status-COMPLETED, &.status-completed {\r\n\t\tbackground: #d4edda;\r\n\t\tcolor: #155724;\r\n\t}\r\n\r\n\t&.status-RATED {\r\n\t\tbackground: #cce5ff;\r\n\t\tcolor: #004085;\r\n\t}\r\n\r\n\t&.status-CANCELLED {\r\n\t\tbackground: #f5f5f5;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t&.status-accepted {\r\n\t\tbackground: #d4edda;\r\n\t\tcolor: #155724;\r\n\t}\r\n}\r\n\r\n.order-meta {\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.meta-item {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 12rpx 0;\r\n\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t&:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n}\r\n\r\n.meta-label {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.meta-value {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n\r\n\t&.total-price {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #fa3534;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n}\r\n\r\n.order-note {\r\n\tmargin-top: 20rpx;\r\n\tpadding: 20rpx;\r\n\tbackground: #f8f9fa;\r\n\tborder-radius: 12rpx;\r\n\tborder-left: 4rpx solid #FF69B4;\r\n}\r\n\r\n.note-label {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tfont-weight: bold;\r\n\tdisplay: block;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.note-content {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.products-section {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 30rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.section-title {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.title-text {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.item-count {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\tbackground: #f5f5f5;\r\n\tpadding: 6rpx 12rpx;\r\n\tborder-radius: 12rpx;\r\n}\r\n\r\n.product-item {\r\n\tdisplay: flex;\r\n\tpadding: 25rpx 0;\r\n\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t&:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n}\r\n\r\n.product-image {\r\n\tflex-shrink: 0;\r\n\twidth: 120rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 12rpx;\r\n\tbackground: #f5f5f5;\r\n}\r\n\r\n.product-info {\r\n\tflex: 1;\r\n\tmargin-left: 20rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.product-name {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.product-desc {\r\n\tfont-size: 24rpx;\r\n\tcolor: #909399;\r\n\tmargin-bottom: 15rpx;\r\n\tline-height: 1.4;\r\n}\r\n\r\n.product-price-info {\r\n\tmargin-top: auto;\r\n}\r\n\r\n.price-row, .quantity-row, .total-row {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 8rpx;\r\n\r\n\t&:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n}\r\n\r\n.price-label, .quantity-label, .total-label {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.price-value, .quantity-value {\r\n\tfont-size: 24rpx;\r\n\tcolor: #333;\r\n}\r\n\r\n.total-value {\r\n\tfont-size: 26rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #fa3534;\r\n}\r\n\r\n.order-actions {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 30rpx;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.actions-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.actions-buttons {\r\n\tdisplay: flex;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.action-btn {\r\n\tflex: 1;\r\n\theight: 80rpx;\r\n\tborder: none;\r\n\tborder-radius: 40rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\r\n\t&::after {\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t&.primary {\r\n\t\tbackground: linear-gradient(135deg, #FF69B4, #FF1493);\r\n\t\tcolor: white;\r\n\t\tbox-shadow: 0 4rpx 15rpx rgba(255, 105, 180, 0.3);\r\n\r\n\t\t&:disabled {\r\n\t\t\tbackground: #CCC;\r\n\t\t\tbox-shadow: none;\r\n\t\t}\r\n\r\n\t\t&:not(:disabled):active {\r\n\t\t\ttransform: translateY(2rpx);\r\n\t\t}\r\n\t}\r\n\r\n\t&.secondary {\r\n\t\tbackground: #f8f9fa;\r\n\t\tcolor: #666;\r\n\t\tborder: 1rpx solid #e0e0e0;\r\n\r\n\t\t&:active {\r\n\t\t\tbackground: #e9ecef;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.empty-state {\r\n\tpadding: 200rpx 0;\r\n\ttext-align: center;\r\n}\r\n</style>","import MiniProgramPage from 'D:/Python/python_doc/xcx/uniapp_front/pages/order/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["useOrderStore","ref","onLoad","uni","getImageUrl","computed","dayjs","updateOrderStatus"],"mappings":"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"}