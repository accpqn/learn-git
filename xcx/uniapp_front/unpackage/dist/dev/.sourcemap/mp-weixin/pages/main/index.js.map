{"version":3,"file":"index.js","sources":["pages/main/index.vue","../../../App/hbuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFpbi9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 分类切换 -->\r\n\t\t<u-tabs :list=\"menuStore.categories\" @click=\"handleTabClick\"></u-tabs>\r\n\r\n\t\t<!-- 商品列表 -->\r\n\t\t<view v-if=\"menuStore.status === 'loading'\" class=\"loading-container\">\r\n\t\t\t<u-loading-icon text=\"加载中...\" size=\"24\"></u-loading-icon>\r\n\t\t</view>\r\n\t\t<view v-else-if=\"menuStore.status === 'error'\" class=\"error-container\">\r\n\t\t\t<text>加载失败: {{ menuStore.error }}</text>\r\n\t\t</view>\r\n\t\t<u-list v-else @scrolltolower=\"scrolltolower\" class=\"product-list\">\r\n\t\t\t<u-list-item v-for=\"(item, index) in menuStore.currentProducts\" :key=\"index\">\r\n\t\t\t\t<u-cell\r\n\t\t\t\t\t:title=\"item.name\"\r\n\t\t\t\t\t:swipe-action=\"!isOrderMode\"\r\n\t\t\t\t\t:options=\"swipeActionOptions\"\r\n\t\t\t\t\t@click=\"handleCellClick(item, $event)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<u-checkbox-group v-if=\"isOrderMode\" @change=\"handleCheckboxChange(item.id)\">\r\n\t\t\t\t\t\t\t<u-checkbox :checked=\"selectedProducts.has(item.id)\" shape=\"circle\"></u-checkbox>\r\n\t\t\t\t\t\t</u-checkbox-group>\r\n\t\t\t\t\t\t<u-avatar v-else shape=\"square\" size=\"60\" :src=\"item.image_url || '/static/images/default-product.png'\" customStyle=\"margin-right: 20rpx;\"></u-avatar>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template #label>\r\n\t\t\t\t\t\t<text class=\"description\">{{ item.description || '暂无描述' }}</text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</u-cell>\r\n\t\t\t</u-list-item>\r\n\t\t</u-list>\r\n\r\n\t\t<!-- 管理悬浮按钮 -->\r\n\t\t<u-fab v-if=\"!isOrderMode\"\r\n\t\t\tref=\"fab\"\r\n\t\t\t:pattern=\"fabPattern\"\r\n\t\t\t:content=\"fabContent\"\r\n\t\t\thorizontal=\"right\"\r\n\t\t\tvertical=\"bottom\"\r\n\t\t\t@trigger=\"handleFabClick\"\r\n\t\t></u-fab>\r\n\r\n\t\t<!-- 点餐底部操作栏 -->\r\n\t\t<u-transition :show=\"isOrderMode\" mode=\"slide-up\">\r\n\t\t\t<view class=\"order-bar\">\r\n\t\t\t\t<text>已选 {{ selectedProducts.size }} 件</text>\r\n\t\t\t\t<u-button type=\"primary\" shape=\"circle\" text=\"选好了，点给TA\" @click=\"handleCreateOrder\"></u-button>\r\n\t\t\t</view>\r\n\t\t</u-transition>\r\n\r\n\t\t<!-- 管理分类弹窗 -->\r\n\t\t<u-popup :show=\"showCategoryManager\" @close=\"showCategoryManager = false\" mode=\"bottom\" round=\"10\">\r\n\t\t\t<view class=\"popup-container\">\r\n\t\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t\t<text class=\"popup-title\">管理分类</text>\r\n\t\t\t\t\t<u-icon name=\"close\" @click=\"showCategoryManager = false\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y class=\"popup-content\">\r\n\t\t\t\t\t<u-list>\r\n\t\t\t\t\t\t<u-list-item v-for=\"category in menuStore.categories\" :key=\"category.id\">\r\n\t\t\t\t\t\t\t<u-cell :title=\"category.name\">\r\n\t\t\t\t\t\t\t\t<template #right-icon>\r\n\t\t\t\t\t\t\t\t\t<view class=\"action-icons\">\r\n\t\t\t\t\t\t\t\t\t\t<u-icon name=\"edit-pen\" size=\"22\" customStyle=\"margin-right: 10px;\" @click=\"openEditCategoryModal(category)\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t<u-icon name=\"trash\" size=\"22\" @click=\"handleDeleteCategory(category)\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</u-cell>\r\n\t\t\t\t\t\t</u-list-item>\r\n\t\t\t\t\t</u-list>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view class=\"popup-footer\">\r\n\t\t\t\t\t<u-button type=\"primary\" icon=\"plus\" text=\"添加新分类\" @click=\"openAddCategoryModal\"></u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\r\n\t\t<!-- 添加/编辑分类模态框 -->\r\n\t\t<u-modal\r\n\t\t\t:show=\"showCategoryModal\"\r\n\t\t\t:title=\"isEditingCategory ? '编辑分类' : '添加分类'\"\r\n\t\t\tshowCancelButton\r\n\t\t\t@confirm=\"handleConfirmCategory\"\r\n\t\t\t@cancel=\"closeCategoryModal\"\r\n\t\t>\r\n\t\t\t<u-input\r\n\t\t\t\tplaceholder=\"请输入分类名称\"\r\n\t\t\t\tv-model=\"categoryForm.name\"\r\n\t\t\t\tclearable\r\n\t\t\t></u-input>\r\n\t\t</u-modal>\r\n\r\n\t\t<!-- 添加/编辑商品弹窗 -->\r\n\t\t<u-popup :show=\"showProductManager\" @close=\"closeProductManager\" mode=\"bottom\" round=\"10\">\r\n\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t<u-icon name=\"close\" @click=\"closeProductManager\"></u-icon>\r\n\t\t\t\t<text class=\"popup-title\">{{ isEditingProduct ? '编辑商品' : '添加商品' }}</text>\r\n\t\t\t\t<button class=\"save-btn\" @click=\"handleConfirmProduct\">保存</button>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-y class=\"popup-content\">\r\n\t\t\t\t<u-form :model=\"productForm\" ref=\"productFormRef\">\r\n\t\t\t\t\t<u-form-item label=\"名称\" prop=\"name\">\r\n\t\t\t\t\t\t<u-input v-model=\"productForm.name\" placeholder=\"请输入商品名称\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"分类\" prop=\"categoryName\" @click=\"showCategoryPicker = true\">\r\n\t\t\t\t\t\t<u-input v-model=\"productForm.categoryName\" disabled disabledColor=\"#ffffff\" placeholder=\"请选择商品分类\"></u-input>\r\n\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"描述\" prop=\"description\">\r\n\t\t\t\t\t\t<u-textarea v-model=\"productForm.description\" placeholder=\"请输入商品描述\" autoHeight></u-textarea>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"图片\" prop=\"image\">\r\n\t\t\t\t\t\t<u-upload\r\n\t\t\t\t\t\t\t:fileList=\"productForm.fileList\"\r\n\t\t\t\t\t\t\t@afterRead=\"afterRead\"\r\n\t\t\t\t\t\t\t@delete=\"deletePic\"\r\n\t\t\t\t\t\t\tname=\"1\"\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t:maxCount=\"1\"\r\n\t\t\t\t\t\t></u-upload>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</u-form>\r\n\t\t\t</scroll-view>\r\n\t\t</u-popup>\r\n\t\t<u-picker :show=\"showCategoryPicker\" :columns=\"[menuStore.categories.map(c => c.name)]\" @confirm=\"handleCategorySelect\" @cancel=\"showCategoryPicker = false\"></u-picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { useMenuStore } from '@/store/menu';\r\nimport { useOrderStore } from '@/store/order';\r\nimport { onMounted, ref, reactive } from 'vue';\r\nimport { onNavigationBarButtonTap } from '@dcloudio/uni-app';\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst menuStore = useMenuStore();\r\n\t\tconst orderStore = useOrderStore();\r\n\t\tconst fab = ref(null);\r\n\t\tconst showCategoryManager = ref(false);\r\n\t\tconst showCategoryModal = ref(false);\r\n\t\tconst isEditingCategory = ref(false);\r\n\t\tconst categoryForm = reactive({ id: null, name: '' });\r\n\r\n\t\tconst fabPattern = {\r\n\t\t\tcolor: '#e4e4e4',\r\n\t\t\tbackgroundColor: '#FF69B4',\r\n\t\t\ticonColor: '#ffffff'\r\n\t\t};\r\n\r\n\t\tconst fabContent = [\r\n\t\t\t{\r\n\t\t\t\ticonPath: '/static/images/category-manage.png',\r\n\t\t\t\tselectedIconPath: '/static/images/category-manage.png',\r\n\t\t\t\ttext: '管理分类',\r\n\t\t\t\tactive: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ticonPath: '/static/images/add-product.png',\r\n\t\t\t\tselectedIconPath: '/static/images/add-product.png',\r\n\t\t\t\ttext: '添加商品',\r\n\t\t\t\tactive: false\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tonMounted(() => {\r\n\t\t\tmenuStore.fetchCategories();\r\n\t\t});\r\n\r\n\t\tconst handleTabClick = (item) => {\r\n\t\t\tmenuStore.setCurrentCategory(item.id);\r\n\t\t};\r\n\t\t\r\n\t\tconst scrolltolower = () => {\r\n\t\t\t// 可以在这里实现加载更多\r\n\t\t};\r\n\r\n\t\tconst handleFabClick = (e) => {\r\n\t\t\tconst index = e.index;\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tshowCategoryManager.value = true;\r\n\t\t\t} else if (index === 1) {\r\n\t\t\t\topenAddProductModal();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst openAddCategoryModal = () => {\r\n\t\t\tisEditingCategory.value = false;\r\n\t\t\tcategoryForm.id = null;\r\n\t\t\tcategoryForm.name = '';\r\n\t\t\tshowCategoryModal.value = true;\r\n\t\t};\r\n\r\n\t\tconst openEditCategoryModal = (category) => {\r\n\t\t\tisEditingCategory.value = true;\r\n\t\t\tcategoryForm.id = category.id;\r\n\t\t\tcategoryForm.name = category.name;\r\n\t\t\tshowCategoryModal.value = true;\r\n\t\t};\r\n\t\t\r\n\t\tconst closeCategoryModal = () => {\r\n\t\t\tshowCategoryModal.value = false;\r\n\t\t};\r\n\r\n\t\tconst handleConfirmCategory = async () => {\r\n\t\t\tif (!categoryForm.name.trim()) {\r\n\t\t\t\tuni.showToast({ title: '分类名称不能为空', icon: 'none' });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (isEditingCategory.value) {\r\n\t\t\t\t\tawait menuStore.updateCategory({ id: categoryForm.id, name: categoryForm.name });\r\n\t\t\t\t\tuni.showToast({ title: '更新成功' });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait menuStore.addCategory(categoryForm.name);\r\n\t\t\t\t\tuni.showToast({ title: '添加成功' });\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tuni.showToast({ title: '操作失败', icon: 'error' });\r\n\t\t\t} finally {\r\n\t\t\t\tcloseCategoryModal();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst handleDeleteCategory = (category) => {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认删除',\r\n\t\t\t\tcontent: `确定要删除分类 \"${category.name}\" 吗？`,\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait menuStore.deleteCategory(category.id);\r\n\t\t\t\t\t\t\tuni.showToast({ title: '删除成功' });\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tuni.showToast({ title: '删除失败', icon: 'error' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// --- 商品管理 ---\r\n\t\tconst showProductManager = ref(false);\r\n\t\tconst isEditingProduct = ref(false);\r\n\t\tconst productFormRef = ref(null);\r\n\t\tconst showCategoryPicker = ref(false);\r\n\t\tconst productForm = reactive({\r\n\t\t\tid: null,\r\n\t\t\tname: '',\r\n\t\t\tdescription: '',\r\n\t\t\tcategory: null,\r\n\t\t\tcategoryName: '',\r\n\t\t\tfileList: []\r\n\t\t});\r\n\r\n\t\tconst openAddProductModal = () => {\r\n\t\t\tisEditingProduct.value = false;\r\n\t\t\tObject.assign(productForm, { id: null, name: '', description: '', category: menuStore.currentCategoryId, categoryName: menuStore.categories.find(c => c.id === menuStore.currentCategoryId)?.name || '', fileList: [] });\r\n\t\t\tshowProductManager.value = true;\r\n\t\t};\r\n\t\t\r\n\t\tconst closeProductManager = () => {\r\n\t\t\tshowProductManager.value = false;\r\n\t\t};\r\n\r\n\t\tconst handleCategorySelect = (e) => {\r\n\t\t\tconst selectedCategoryName = e.value[0];\r\n\t\t\tconst selectedCategory = menuStore.categories.find(c => c.name === selectedCategoryName);\r\n\t\t\tif (selectedCategory) {\r\n\t\t\t\tproductForm.category = selectedCategory.id;\r\n\t\t\t\tproductForm.categoryName = selectedCategory.name;\r\n\t\t\t}\r\n\t\t\tshowCategoryPicker.value = false;\r\n\t\t};\r\n\r\n\t\tconst afterRead = async (event) => {\r\n\t\t\t// ... 省略上传逻辑，仅做展示\r\n\t\t\tproductForm.fileList.push({ ...event.file, status: 'success', message: '' });\r\n\t\t};\r\n\t\t\r\n\t\tconst deletePic = (event) => {\r\n\t\t\tproductForm.fileList.splice(event.index, 1);\r\n\t\t};\r\n\r\n\t\tconst handleConfirmProduct = async () => {\r\n\t\t\t// ... 省略表单验证逻辑\r\n\t\t\tconst productData = {\r\n\t\t\t\tname: productForm.name,\r\n\t\t\t\tdescription: productForm.description,\r\n\t\t\t\tcategory: productForm.category,\r\n\t\t\t\t// image_url: ... 上传后获取\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tif (isEditingProduct.value) {\r\n\t\t\t\t\tawait menuStore.updateProduct({ id: productForm.id, productData });\r\n\t\t\t\t\tuni.showToast({ title: '更新成功' });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait menuStore.addProduct(productData);\r\n\t\t\t\t\tuni.showToast({ title: '添加成功' });\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tuni.showToast({ title: '操作失败', icon: 'error' });\r\n\t\t\t} finally {\r\n\t\t\t\tcloseProductManager();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst swipeActionOptions = [\r\n\t\t\t{ text: '编辑', style: { backgroundColor: '#3c9cff' } },\r\n\t\t\t{ text: '删除', style: { backgroundColor: '#f56c6c' } }\r\n\t\t];\r\n\r\n\t\tconst openEditProductModal = (product) => {\r\n\t\t\tisEditingProduct.value = true;\r\n\t\t\tObject.assign(productForm, {\r\n\t\t\t\tid: product.id,\r\n\t\t\t\tname: product.name,\r\n\t\t\t\tdescription: product.description,\r\n\t\t\t\tcategory: product.category,\r\n\t\t\t\tcategoryName: menuStore.categories.find(c => c.id === product.category)?.name || '',\r\n\t\t\t\tfileList: product.image_url ? [{ url: product.image_url }] : []\r\n\t\t\t});\r\n\t\t\tshowProductManager.value = true;\r\n\t\t};\r\n\r\n\t\tconst handleDeleteProduct = (product) => {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认删除',\r\n\t\t\t\tcontent: `确定要删除商品 \"${product.name}\" 吗？`,\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait menuStore.deleteProduct({ id: product.id, categoryId: product.category });\r\n\t\t\t\t\t\t\tuni.showToast({ title: '删除成功' });\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tuni.showToast({ title: '删除失败', icon: 'error' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst handleSwipeClick = (item, event) => {\r\n\t\t\tif (event.name === '编辑') {\r\n\t\t\t\topenEditProductModal(item);\r\n\t\t\t} else if (event.name === '删除') {\r\n\t\t\t\thandleDeleteProduct(item);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst isOrderMode = ref(false);\r\n\t\tconst selectedProducts = reactive(new Set());\r\n\r\n\t\tonNavigationBarButtonTap((e) => {\r\n\t\t\tif (e.index === 0) {\r\n\t\t\t\tisOrderMode.value = !isOrderMode.value;\r\n\t\t\t\tif (!isOrderMode.value) {\r\n\t\t\t\t\tselectedProducts.clear();\r\n\t\t\t\t}\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: isOrderMode.value ? '选择想吃的' : '菜单'\r\n\t\t\t\t});\r\n\t\t\t\t// H5 和 App 端动态设置按钮文字\r\n\t\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\t\tconst pages = getCurrentPages();\r\n\t\t\t\tconst page = pages[pages.length - 1];\r\n\t\t\t\tconst { navigationBar } = page.$parent;\r\n\t\t\t\tnavigationBar.buttons[0].text = isOrderMode.value ? '取消' : '点餐';\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst handleCellClick = (item, event) => {\r\n\t\t\tif (isOrderMode.value) {\r\n\t\t\t\thandleCheckboxChange(item.id);\r\n\t\t\t} else {\r\n\t\t\t\t// 非点餐模式下，处理左滑菜单点击\r\n\t\t\t\tif (event && event.name) {\r\n\t\t\t\t\thandleSwipeClick(item, event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst handleCheckboxChange = (productId) => {\r\n\t\t\tif (selectedProducts.has(productId)) {\r\n\t\t\t\tselectedProducts.delete(productId);\r\n\t\t\t} else {\r\n\t\t\t\tselectedProducts.add(productId);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst handleCreateOrder = async () => {\r\n\t\t\tif (selectedProducts.size === 0) {\r\n\t\t\t\tuni.showToast({ title: '请至少选择一个商品', icon: 'none' });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait orderStore.createOrder(Array.from(selectedProducts));\r\n\t\t\t\tuni.showToast({ title: '点餐成功！' });\r\n\t\t\t\tisOrderMode.value = false;\r\n\t\t\t\tselectedProducts.clear();\r\n\t\t\t\tuni.setNavigationBarTitle({ title: '菜单' });\r\n\t\t\t\t// #ifdef H5 || APP-PLUS\r\n\t\t\t\t// ... 恢复按钮文字 ...\r\n\t\t\t\t// #endif\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({ title: '点餐失败', icon: 'error' });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tmenuStore,\r\n\t\t\thandleTabClick,\r\n\t\t\tscrolltolower,\r\n\t\t\tfab,\r\n\t\t\tfabPattern,\r\n\t\t\tfabContent,\r\n\t\t\thandleFabClick,\r\n\t\t\tshowCategoryManager,\r\n\t\t\tshowCategoryModal,\r\n\t\t\tisEditingCategory,\r\n\t\t\tcategoryForm,\r\n\t\t\topenAddCategoryModal,\r\n\t\t\topenEditCategoryModal,\r\n\t\t\tcloseCategoryModal,\r\n\t\t\thandleConfirmCategory,\r\n\t\t\thandleDeleteCategory,\r\n\t\t\t// 商品管理\r\n\t\t\tshowProductManager,\r\n\t\t\tisEditingProduct,\r\n\t\t\tproductFormRef,\r\n\t\t\tshowCategoryPicker,\r\n\t\t\tproductForm,\r\n\t\t\topenAddProductModal,\r\n\t\t\tcloseProductManager,\r\n\t\t\thandleCategorySelect,\r\n\t\t\tafterRead,\r\n\t\t\tdeletePic,\r\n\t\t\thandleConfirmProduct,\r\n\t\t\tswipeActionOptions,\r\n\t\t\thandleSwipeClick,\r\n\t\t\tisOrderMode,\r\n\t\t\tselectedProducts,\r\n\t\t\thandleCellClick,\r\n\t\t\thandleCheckboxChange,\r\n\t\t\thandleCreateOrder\r\n\t\t};\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tpadding: 0;\r\n}\r\n\r\n.loading-container, .error-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\theight: 50vh;\r\n}\r\n\r\n.product-list {\r\n\tpadding: 0 20rpx;\r\n}\r\n\r\n.description {\r\n\tfont-size: 24rpx;\r\n\tcolor: #909399;\r\n}\r\n\r\n.popup-container {\r\n\tpadding: 20rpx;\r\n}\r\n\r\n.popup-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.popup-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.popup-content {\r\n\tmax-height: 60vh;\r\n}\r\n\r\n.popup-footer {\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.action-icons {\r\n\tdisplay: flex;\r\n}\r\n\r\n.save-btn {\r\n\t// ... 样式\r\n}\r\n\r\n.order-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 120rpx;\r\n\tbackground-color: #fff;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 0 30rpx;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0,0,0,0.1);\r\n\tbox-sizing: border-box;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Python/python_doc/qlxcx/pages/main/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useMenuStore","useOrderStore","ref","reactive","onMounted","uni","onNavigationBarButtonTap"],"mappings":"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"}